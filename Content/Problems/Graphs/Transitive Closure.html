<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Transitive Closure</title>
  <script id="MathJax-script" async 
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <link rel="stylesheet" href="/Algorithms/css/style.css">
  <link rel="stylesheet" href="/Algorithms/css/problem.css">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQ5LVZVFDC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-DQ5LVZVFDC');
  </script>
</head>
<body>
  <h1>Transitive Closure</h1>

  <section>
    <h2>Problem Description</h2>
    <p>
      Given a directed graph \( G = (V, E) \), the <em>transitive closure</em> of \( G \)
      is a graph \( G^* = (V, E^*) \) where an edge \( (u, v) \in E^* \) exists
      if and only if there is a path from \( u \) to \( v \) in \( G \).
      In other words, \( G^* \) captures all reachability information of \( G \).
    </p>

    <h3>Input</h3>
    <p>
      A directed graph represented as an adjacency matrix or adjacency list.
      Vertices are typically numbered \( 1 \) through \( n \).
    </p>

    <h3>Output</h3>
    <p>
      The transitive closure of the input graph, often represented as an
      \( n \times n \) Boolean matrix \( T \), where \( T[i][j] = 1 \)
      if there is a path from vertex \( i \) to vertex \( j \), and \( 0 \) otherwise.
    </p>
  </section>

  <section>
    <h2>Motivation/Applications</h2>
    <p>
      Transitive closure is fundamental in analyzing reachability within networks:
      determining dependencies in task scheduling, access in authorization systems,
      or connectivity in social networks. It is also an essential building block
      for computing relational closures and database query optimization.
    </p>
  </section>

  <section>
    <h2>Examples</h2>
    <style>
      .graph-pair { display: flex; gap: 16px; align-items: flex-start; flex-wrap: wrap; }
      .graph-pair > div { flex: 0 0 auto; }
      .example-box svg { background: #fff; }
    </style>

    <div class="example-box">
      <strong class="example-title">Example 1: Five-Node Directed Graph</strong><br>
      Vertices \( \{1,2,3,4,5\} \) with edges \( (1,2), (1,4), (2,3), (3,5), (4,2), (4,5) \).<br>

      <div class="graph-pair">
        <!-- Original Graph -->
        <div>
          <svg width="300" height="220" viewBox="0 0 300 220">
            <defs>
              <marker id="arrA" markerWidth="10" markerHeight="10" refX="7.5" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#555" />
              </marker>
            </defs>
            <style>
              .node { fill:#fff; stroke:#2f2f2f; stroke-width:2; }
              .edge { stroke:#555; stroke-width:2; fill:none; }
              .nlabel { font:13px monospace; dominant-baseline:middle; text-anchor:middle; }
            </style>
            <!-- edges (original): 1→2, 1→4, 2→3, 3→5, 4→2, 4→5 -->
            <path class="edge" d="M 150 20 Q 200 30 233 64" marker-end="url(#arrA)"/>
            <path class="edge" d="M 150 20 Q 95 55 90 182" marker-end="url(#arrA)"/>
            <path class="edge" d="M 245 70 Q 245 120 223 171" marker-end="url(#arrA)"/>
            <path class="edge" d="M 220 185 Q 180 205 52 106" marker-end="url(#arrA)"/>
            <path class="edge" d="M 85 195 Q 150 140 234 79" marker-end="url(#arrA)"/>
            <path class="edge" d="M 85 195 Q 80 160 52 112" marker-end="url(#arrA)"/>
            <!-- nodes on a circle -->
            <circle class="node" cx="150" cy="20" r="14"/>
            <circle class="node" cx="245" cy="70" r="14"/>
            <circle class="node" cx="220" cy="185" r="14"/>
            <circle class="node" cx="85" cy="195" r="14"/>
            <circle class="node" cx="40" cy="100" r="14"/>
            <text class="nlabel" x="150" y="20">1</text>
            <text class="nlabel" x="245" y="70">2</text>
            <text class="nlabel" x="220" y="185">3</text>
            <text class="nlabel" x="85" y="195">4</text>
            <text class="nlabel" x="40" y="100">5</text>
          </svg>
          <div class="caption">Original graph</div>
        </div>

        <!-- Closure Graph -->
        <div>
          <svg width="300" height="220" viewBox="0 0 300 220">
            <defs>
              <marker id="arrB" markerWidth="10" markerHeight="10" refX="7.5" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#555" />
              </marker>
            </defs>
            <style>
              .node { fill:#fff; stroke:#2f2f2f; stroke-width:2; }
              .edge0 { stroke:#333; stroke-width:2.2; fill:none; }
              .edge1 { stroke:#777; stroke-width:1.3; fill:none; }
              .nlabel { font:13px monospace; dominant-baseline:middle; text-anchor:middle; }
            </style>
            <!-- original edges (thick) -->
            <path class="edge0" d="M 150 20 Q 200 30 233 64" marker-end="url(#arrB)"/>
            <path class="edge0" d="M 150 20 Q 95 55 90 182" marker-end="url(#arrB)"/>
            <path class="edge0" d="M 245 70 Q 245 120 223 171" marker-end="url(#arrB)"/>
            <path class="edge0" d="M 220 185 Q 180 205 52 106" marker-end="url(#arrB)"/>
            <path class="edge0" d="M 85 195 Q 150 140 234 79" marker-end="url(#arrB)"/>
            <path class="edge0" d="M 85 195 Q 80 160 52 112" marker-end="url(#arrB)"/>
            <!-- representative transitive edges (thin) -->
            <path class="edge1" d="M 150 20 Q 210 80 223 171" marker-end="url(#arrB)"/>
            <path class="edge1" d="M 150 20 Q 110 60 52 106" marker-end="url(#arrB)"/>
            <path class="edge1" d="M 245 70 Q 160 120 52 106" marker-end="url(#arrB)"/>
            <path class="edge1" d="M 85 195 Q 155 200 223 171" marker-end="url(#arrB)"/>
            <circle class="node" cx="150" cy="20" r="14"/>
            <circle class="node" cx="245" cy="70" r="14"/>
            <circle class="node" cx="220" cy="185" r="14"/>
            <circle class="node" cx="85" cy="195" r="14"/>
            <circle class="node" cx="40" cy="100" r="14"/>
            <text class="nlabel" x="150" y="20">1</text>
            <text class="nlabel" x="245" y="70">2</text>
            <text class="nlabel" x="220" y="185">3</text>
            <text class="nlabel" x="85" y="195">4</text>
            <text class="nlabel" x="40" y="100">5</text>
          </svg>
          <div class="caption">Transitive closure (original edges thick; added reachability thin)</div>
        </div>
      </div>

      <em>Adjacency matrix:</em><br>
      \[
      A =
      \begin{bmatrix}
      0 & 1 & 0 & 1 & 0 \\
      0 & 0 & 1 & 0 & 0 \\
      0 & 0 & 0 & 0 & 1 \\
      0 & 1 & 0 & 0 & 1 \\
      0 & 0 & 0 & 0 & 0
      \end{bmatrix}
      \quad
      A^* = \text{(with reflexive closure)}\;=
      \begin{bmatrix}
      1 & 1 & 1 & 1 \\
      0 & 1 & 1 & 0 \\
      0 & 0 & 1 & 0 \\
      0 & 1 & 1 & 1 \\
      0 & 0 & 0 & 1
      \end{bmatrix}
      \]
    </div>

    <br>

    <div class="example-box">
      <strong class="example-title">Example 2: Two SCCs with a One-Way Link</strong><br>
      Vertices \( \{1,2,3,4,5,6\} \) and edges:<br>
      \( (1,2), (2,1), (2,3), (3,2), (3,4), (4,5), (5,6), (6,4), (2,5) \).<br>

      <div class="graph-pair">
        <!-- Original Graph -->
        <div>
          <svg width="360" height="210" viewBox="0 0 360 210">
            <defs>
              <marker id="arrC" markerWidth="10" markerHeight="10" refX="7.5" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#555" />
              </marker>
            </defs>
            <style>
              .node { fill:#fff; stroke:#2f2f2f; stroke-width:2; }
              .edge { stroke:#555; stroke-width:2; fill:none; }
              .nlabel { font:13px monospace; dominant-baseline:middle; text-anchor:middle; }
            </style>
            <!-- ring positions -->
            <circle class="node" cx="180" cy="20" r="14"/><text class="nlabel" x="180" y="20">1</text>
            <circle class="node" cx="270" cy="60" r="14"/><text class="nlabel" x="270" y="60">2</text>
            <circle class="node" cx="305" cy="145" r="14"/><text class="nlabel" x="305" y="145">3</text>
            <circle class="node" cx="230" cy="210" r="14"/><text class="nlabel" x="230" y="210">4</text>
            <circle class="node" cx="120" cy="210" r="14"/><text class="nlabel" x="120" y="210">5</text>
            <circle class="node" cx="55" cy="120" r="14"/><text class="nlabel" x="55" y="120">6</text>
            <!-- edges -->
            <path class="edge" d="M 180 20 Q 220 30 258 56" marker-end="url(#arrC)"/>
            <path class="edge" d="M 270 60 Q 230 40 190 24" marker-end="url(#arrC)"/>
            <path class="edge" d="M 270 60 Q 300 90 294 141" marker-end="url(#arrC)"/>
            <path class="edge" d="M 305 145 Q 290 100 258 56" marker-end="url(#arrC)"/>
            <path class="edge" d="M 305 145 Q 275 180 224 196" marker-end="url(#arrC)"/>
            <path class="edge" d="M 230 210 Q 175 230 132 206" marker-end="url(#arrC)"/>
            <path class="edge" d="M 120 210 Q 80 185 67 124" marker-end="url(#arrC)"/>
            <path class="edge" d="M 55 120 Q 110 170 224 196" marker-end="url(#arrC)"/>
            <path class="edge" d="M 270 60 Q 240 120 132 206" marker-end="url(#arrC)"/>
          </svg>
          <div class="caption">Original graph</div>
        </div>

        <!-- Closure Graph -->
        <div>
          <svg width="360" height="210" viewBox="0 0 360 210">
            <defs>
              <marker id="arrD" markerWidth="10" markerHeight="10" refX="7.5" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#555" />
              </marker>
            </defs>
            <style>
              .node { fill:#fff; stroke:#2f2f2f; stroke-width:2; }
              .edge0 { stroke:#333; stroke-width:2.2; fill:none; }
              .edge1 { stroke:#777; stroke-width:1.2; fill:none; }
              .nlabel { font:13px monospace; dominant-baseline:middle; text-anchor:middle; }
            </style>
            <!-- original edges (thick) on the same ring positions -->
            <path class="edge0" d="M 180 20 Q 220 30 258 56" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 270 60 Q 230 40 190 24" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 270 60 Q 300 90 294 141" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 305 145 Q 290 100 258 56" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 305 145 Q 275 180 224 196" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 230 210 Q 175 230 132 206" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 120 210 Q 80 185 67 124" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 55 120 Q 110 170 224 196" marker-end="url(#arrD)"/>
            <path class="edge0" d="M 270 60 Q 240 120 132 206" marker-end="url(#arrD)"/>
            <!-- representative closure edges (thin) -->
            <path class="edge1" d="M 180 20 Q 245 50 294 141" marker-end="url(#arrD)"/>
            <path class="edge1" d="M 180 20 Q 210 100 132 206" marker-end="url(#arrD)"/>
            <path class="edge1" d="M 305 145 Q 260 170 67 124" marker-end="url(#arrD)"/>
            <!-- nodes -->
            <circle class="node" cx="180" cy="20" r="14"/><text class="nlabel" x="180" y="20">1</text>
            <circle class="node" cx="270" cy="60" r="14"/><text class="nlabel" x="270" y="60">2</text>
            <circle class="node" cx="305" cy="145" r="14"/><text class="nlabel" x="305" y="145">3</text>
            <circle class="node" cx="230" cy="210" r="14"/><text class="nlabel" x="230" y="210">4</text>
            <circle class="node" cx="120" cy="210" r="14"/><text class="nlabel" x="120" y="210">5</text>
            <circle class="node" cx="55" cy="120" r="14"/><text class="nlabel" x="55" y="120">6</text>
          </svg>
          <div class="caption">Transitive closure</div>
        </div>
      </div>

      <em>Adjacency matrix:</em><br>
      \[
      A =
      \begin{bmatrix}
      0 & 1 & 0 & 0 & 0 & 0 \\
      1 & 0 & 1 & 0 & 1 & 0 \\
      0 & 1 & 0 & 1 & 0 & 0 \\
      0 & 0 & 0 & 0 & 1 & 0 \\
      0 & 0 & 0 & 0 & 0 & 1 \\
      0 & 0 & 0 & 1 & 0 & 0
      \end{bmatrix}
      \quad
      A^* = \text{(with reflexive closure)}\;=
      \begin{bmatrix}
      1 & 1 & 1 & 1 & 1 & 1 \\
      1 & 1 & 1 & 1 & 1 & 1 \\
      1 & 1 & 1 & 1 & 1 & 1 \\
      0 & 0 & 0 & 1 & 1 & 1 \\
      0 & 0 & 0 & 1 & 1 & 1 \\
      0 & 0 & 0 & 1 & 1 & 1
      \end{bmatrix}
      \]
      Vertices \(\{1,2,3\}\) form one strongly connected component and \(\{4,5,6\}\) form another. The link \(2\to 5\)
      makes every vertex in the first component able to reach every vertex in the second component.
    </div>
  </section>

  <section>
    <h2>Common Algorithms/Techniques</h2>
    <ul>
      <li>Floyd–Warshall algorithm (modified for reachability)</li>
      <li>Repeated squaring of the adjacency matrix</li>
      <li>Depth-First Search (DFS) or Breadth-First Search (BFS) from each vertex</li>
    </ul>
  </section>

  <section>
    <h2>Variants/Related Problems</h2>
    <ul>
      <li>Reflexive transitive closure (includes self-loops)</li>
      <li>Reachability query problem</li>
      <li>All-pairs shortest paths</li>
      <li>Connected components in undirected graphs</li>
    </ul>
  </section>
</body>
</html>
